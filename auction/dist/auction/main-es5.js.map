{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/carousel/carousel.component.ts","webpack:///src/app/carousel/carousel.component.html","webpack:///src/app/footer/footer.component.ts","webpack:///src/app/footer/footer.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/navbar/navbar.component.ts","webpack:///src/app/navbar/navbar.component.html","webpack:///src/app/pipes/search-filter.pipe.ts","webpack:///src/app/product-detail/product-detail.component.ts","webpack:///src/app/product-detail/product-detail.component.html","webpack:///src/app/product/product.component.ts","webpack:///src/app/product/product.component.html","webpack:///src/app/search/search.component.ts","webpack:///src/app/search/search.component.html","webpack:///src/app/services/product.service.ts","webpack:///src/app/services/web-socket.service.ts","webpack:///src/app/stars/stars.component.ts","webpack:///src/app/stars/stars.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","CarouselComponent","FooterComponent","HomeComponent","NavbarComponent","SearchFilterPipe","list","fieldName","keyword","filter","item","fieldValue","toLowerCase","indexOf","name","ProductDetailComponent","routeInfo","productService","webSocketService","newComment","newRating","isCommentHidden","isWatched","productId","snapshot","params","getProductById","subscribe","product","currentBid","price","getCommentsForProductId","comments","comment","Date","toISOString","unshift","sum","reduce","rating","length","subscription","unsubscribe","createObservableSocket","products","find","p","bid","watchProduct","addComment","ProductComponent","getProducts","searchEvent","getProductsBySearch","SearchComponent","fb","formModel","group","minLength","positveNumberValidator","category","categories","getAllCategories","control","value","parseInt","positiveNumber","valid","emit","console","log","onSearch","ProductService","http","get","encodeParams","result","Object","key","append","providedIn","Product","desc","Comment","timestamp","user","content","ProductSearchParams","WebSocketService","url","ws","WebSocket","observer","onmessage","event","next","data","onerror","error","onclose","complete","onopen","sendMessage","close","map","message","JSON","parse","send","stringify","StarsComponent","ratingChange","readonly","i","ngOnInit","stars","starFull","Math","floor","starHalf","push","environment","production","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {HomeComponent} from './home/home.component';\nimport {ProductDetailComponent} from './product-detail/product-detail.component';\n\n\nconst routes: Routes = [\n  {path: '', component: HomeComponent},\n  {path: 'product/:productId', component: ProductDetailComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'auction';\n}\n","<app-navbar></app-navbar>\n<div class=\"container mt-3\">\n  <div class=\"row\">\n    <div class=\"col-md-3\">\n      <app-search></app-search>\n    </div>\n    <div class=\"col-md-9\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n<app-footer></app-footer>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { SearchComponent } from './search/search.component';\nimport { CarouselComponent } from './carousel/carousel.component';\nimport { ProductComponent } from './product/product.component';\nimport { StarsComponent } from './stars/stars.component';\nimport { ProductDetailComponent } from './product-detail/product-detail.component';\nimport { HomeComponent } from './home/home.component';\nimport {ProductService} from './services/product.service';\nimport {ReactiveFormsModule, FormsModule} from '@angular/forms';\nimport { SearchFilterPipe } from './pipes/search-filter.pipe';\nimport {HttpClientModule, HttpClient} from '@angular/common/http';\nimport {WebSocketService} from './services/web-socket.service';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    FooterComponent,\n    SearchComponent,\n    CarouselComponent,\n    ProductComponent,\n    StarsComponent,\n    ProductDetailComponent,\n    HomeComponent,\n    SearchFilterPipe,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n    FormsModule,\n    HttpClientModule,\n  ],\n  providers: [\n    ProductService,\n    HttpClient,\n    WebSocketService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-carousel',\n  templateUrl: './carousel.component.html',\n  styleUrls: ['./carousel.component.css']\n})\nexport class CarouselComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-ride=\"carousel\">\n  <ol class=\"carousel-indicators\">\n    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" class=\"active\"></li>\n    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\n    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\n  </ol>\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      <img class=\"d-block w-100\" src=\"http://placehold.it/900x300\" alt=\"First slide\">\n    </div>\n    <div class=\"carousel-item\">\n      <img class=\"d-block w-100\"  src=\"http://placehold.it/900x300\" alt=\"Second slide\">\n    </div>\n    <div class=\"carousel-item\">\n      <img class=\"d-block w-100\"  src=\"http://placehold.it/900x300\" alt=\"Third slide\">\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n  <hr>\n  <footer>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <p>copyright©2019 Online Auction</p>\n      </div>\n    </div>\n  </footer>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div>\n  <div class=\"row\">\n    <app-carousel></app-carousel>\n  </div>\n  <div class=\"mt-3\">\n    <app-product></app-product>\n  </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n  <div class=\"container\">\n    <a class=\"navbar-brand\" href=\"#\">Online Actions</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item active\">\n          <a class=\"nav-link\" href=\"#\">About Us</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\">Contact Us</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\">Website Map</a>\n        </li>\n\n      </ul>\n    </div>\n  </div>\n</nav>\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'searchFilter'\n})\nexport class SearchFilterPipe implements PipeTransform {\n\n  transform(list: any[], fieldName: string, keyword: string): unknown {\n    if (!keyword || !fieldName) { return list; }\n    return list.filter((item) => {\n      const fieldValue  = item[fieldName];\n      return fieldValue.toLowerCase().indexOf(keyword.toLowerCase()) >= 0;\n    });\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Comment, Product, ProductService} from '../services/product.service';\nimport {WebSocketService} from '../services/web-socket.service';\nimport {Observable, Subscription} from 'rxjs';\n\n@Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css']\n})\nexport class ProductDetailComponent implements OnInit {\n  product: Product;\n  comments: Comment[];\n  newComment = '';\n  newRating = 5;\n  isCommentHidden = true;\n  isWatched = false;\n  currentBid: number;\n  subscription: Subscription;\n\n  constructor(private routeInfo: ActivatedRoute, private productService: ProductService, private webSocketService: WebSocketService) {\n\n  }\n\n  ngOnInit(): void {\n    const productId: number = this.routeInfo.snapshot.params.productId;\n    this.productService.getProductById(productId).subscribe( product => {\n      this.product = product;\n      this.currentBid = product.price;\n    });\n    this.productService.getCommentsForProductId(productId).subscribe(comments => this.comments = comments);\n  }\n\n  addComment(): void {\n    const comment = new Comment(0, this.product.id, new Date().toISOString(), 'someone', this.newRating, this.newComment);\n    this.comments.unshift(comment);\n    // tslint:disable-next-line:no-shadowed-variable\n    const sum = this.comments.reduce((sum: number, comment: Comment) => sum + comment.rating, 0);\n    this.product.rating = sum / this.comments.length;\n    this.newComment = null;\n    this.newRating = 5;\n    this.isCommentHidden = true;\n  }\n  watchProduct(): void {\n    this.isWatched = !this.isWatched;\n    if(this.subscription) {\n      this.subscription.unsubscribe();\n      this.isWatched = false;\n      this.subscription =  null;\n    } else {\n      this.isWatched = true;\n      this.subscription = this.webSocketService.createObservableSocket('ws://localhost:8085', this.product.id)\n        .subscribe(\n          products => {\n            const product = products.find(p => p.productId === this.product.id);\n            this.currentBid = product.bid;\n          }\n        );\n    }\n  }\n}\n","<div class=\"\">\n  <img src=\"http://placehold.it/900x400\" alt=\"\">\n  <div class=\"mt-lg-5\">\n    <p class=\"pull-right\">${{product?.price}}</p>\n    <h4>{{product?.title}}</h4>\n    <p>{{product?.desc}}</p>\n  </div>\n  <div>\n    <div class=\"pull-right\">\n      comments: {{comments?.length}}\n    </div>\n    <app-stars [rating]=\"product?.rating|number:'1.0-2'\"></app-stars>\n  </div>\n</div>\n\n<div class=\"jumbotron\">\n  <div>\n    <button class=\"btn btn-outline-primary mt-3 mb-3 mr-3\"\n            [class.active]=\"isWatched\"\n            (click)=\"watchProduct()\"\n    >{{isWatched ? 'Unfollow' : 'Follow'}}</button>\n    <label>\n      latest bid: ${{currentBid}}\n    </label>\n  </div>\n\n  <div>\n    <button class=\"btn btn-success\" (click)=\"isCommentHidden = !isCommentHidden\">New Comment</button>\n  </div>\n  <div [hidden]=\"isCommentHidden\">\n    <div><app-stars [(rating)]=\"newRating\" [readonly]=\"false\"></app-stars></div>\n    <div class=\"form-group\"><textarea [(ngModel)]=\"newComment\" class=\"form-control\"></textarea></div>\n    <div><button class=\"btn btn-primary\" (click)=\"addComment()\">Submit</button></div>\n  </div>\n  <div class=\"row\" *ngFor=\"let comment of comments\">\n    <hr>\n    <div class=\"col-md-12\">\n      <app-stars [rating]=\"comment.rating\"></app-stars>\n      <span>{{comment.user}}</span>\n      <span class=\"pull-right\">{{comment.timestamp}}</span>\n      <p></p>\n      <p>{{comment.content}}</p>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {ProductService, Product} from '../services/product.service';\n// tslint:disable-next-line:import-blacklist\nimport {Observable} from 'rxjs/Rx';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent implements OnInit {\n  products: Observable<Product[]>;\n\n  constructor(private  productService: ProductService) { }\n\n  ngOnInit(): void {\n    this.products = this.productService.getProducts();\n    this.productService.searchEvent.subscribe(\n      params => this.products = this.productService.getProductsBySearch(params)\n    );\n  }\n}\n\n","<div class=\"row\">\n  <div *ngFor=\"let product of products | async\" class=\"col-sm-4 col-md-4 col-lg-4 mt-2\">\n    <div class=\"card\" >\n      <img class=\"card-img-top\" src=\"http://placehold.it/300x200\" alt=\"Card image cap\">\n      <div class=\"card-body\">\n        <p style=\"float:right;\">{{product.price}}</p>\n        <h5 class=\"card-title\" [routerLink]=\"['/product',product.id]\">{{product.title}}</h5>\n        <p class=\"card-text\">{{product.desc}}</p>\n      </div>\n      <div class=\"card-footer\">\n        <app-stars [rating]=\"product.rating\"></app-stars>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ProductService} from '../services/product.service';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n  formModel: FormGroup;\n  categories: string[];\n\n  constructor(private productService: ProductService) {\n    const fb = new FormBuilder();\n    this.formModel = fb.group({\n      title: ['', Validators.minLength(3)],\n      price: [null, this.positveNumberValidator],\n      category: ['-1']\n    });\n  }\n\n  ngOnInit(): void {\n    this.categories = this.productService.getAllCategories();\n  }\n\n  positveNumberValidator(control: FormControl): any {\n    if (!control.value) {\n      return null;\n    }\n    const price = parseInt(control.value);\n    if (price > 0) {\n      return null;\n    } else {\n      return {positiveNumber: true};\n    }\n  }\n  onSearch(): void {\n    if (this.formModel.valid) {\n      this.productService.searchEvent.emit(this.formModel.value);\n      console.log(this.formModel.value);\n    }\n  }\n}\n","<form [formGroup]=\"formModel\" (ngSubmit)=\"onSearch()\" novalidate>\n  <div class=\"form-group\" >\n    <label >Product Title</label>\n    <input [class.is-invalid]=\"formModel.hasError('minlength','title')\" formControlName=\"title\" type=\"text\" id=\"product-title\" placeholder=\"Product Title\" class=\"form-control\">\n    <span class=\"invalid-feedback\" [hidden] = \"!formModel.hasError('minlength', 'title')\">\n      At least 3 chars\n    </span>\n  </div>\n\n  <div class=\"form-group\">\n    <label>Product Price</label>\n    <input [class.is-invalid] = \"formModel.hasError('positiveNumber', 'price')\" formControlName=\"price\" type=\"text\" id=\"product-price\" placeholder=\"Product Price\" class=\"form-control\">\n    <span class=\"invalid-feedback\" [hidden] = \"!formModel.hasError('positiveNumber', 'price')\">\n      must be positive number\n    </span>\n  </div>\n\n  <div class=\"form-group\">\n    <label >Product Category</label>\n    <select name=\"\" id=\"product-category\" class=\"form-control\">\n      <option value=\"-1\">All</option>\n      <option *ngFor=\"let category of categories\" [value]=\"category\">{{category}}</option>\n    </select>\n  </div>\n\n  <div class=\"form-group\">\n    <button type=\"submit\" class=\"btn btn-primary\">Search Product</button>\n  </div>\n</form>\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {HttpClient, HttpParams} from '@angular/common/http';\n// tslint:disable-next-line:import-blacklist\nimport {Observable} from 'rxjs/Rx';\n\n\n// @ts-ignore\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ProductService {\n\n  searchEvent: EventEmitter<ProductSearchParams> = new EventEmitter();\n  constructor(private http: HttpClient) { }\n\n  public getProducts(): Observable<Product[]> {\n    return this.http.get<Product[]>('/api/products');\n  }\n\n  public getProductById(id: number): Observable<Product> {\n    return this.http.get<Product>('/api/products/' + id);\n  }\n\n  public getCommentsForProductId(id: number): Observable<Comment[]> {\n    return this.http.get<Comment[]>('/api/products/' + id + '/comments');\n  }\n\n  public getAllCategories(): string[] {\n    return ['computer', 'ipad', 'software', 'hardware'];\n  }\n\n  public getProductsBySearch(params: ProductSearchParams) {\n    return this.http.get<Product[]>('/api/products', {params: this.encodeParams(params)});\n  }\n\n  private encodeParams(params: ProductSearchParams): HttpParams {\n    let result: HttpParams;\n    result = Object.keys(params)\n      .filter(key => params[key])\n      .reduce((sum: HttpParams, key: string) => {\n        sum = sum.append(key, params[key]);\n        return sum;\n      }, new HttpParams());\n    return result;\n  }\n}\n\n\nexport class Product {\n  constructor(\n    public id: number,\n    public title: string,\n    public price: number,\n    public rating: number,\n    public desc: string,\n    public categories: Array<string>\n  ) {\n\n  }\n}\n\nexport class Comment {\n  constructor(\n    public id: number,\n    public productId: number,\n    public timestamp: string,\n    public user: string,\n    public rating: number,\n    public content: string\n  ) {\n  }\n}\n\nexport class ProductSearchParams {\n  constructor(\n    public title: string,\n    public price: number,\n    public category: string\n  ) {\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {Observable} from 'rxjs/Rx';\nimport 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebSocketService {\n\n  ws: WebSocket;\n  constructor() { }\n\n  createObservableSocket(url: string, id: number): Observable<any> {\n      this.ws = new WebSocket(url);\n      return  new Observable<string>(observer => {\n        this.ws.onmessage = (event) => observer.next(event.data);\n        this.ws.onerror = (event) => observer.error(event);\n        this.ws.onclose = (event) => observer.complete();\n        this.ws.onopen = (event) => this.sendMessage({productId: id});\n        return () => this.ws.close();\n      }).map(message => JSON.parse(message));\n  }\n\n  sendMessage(message: any) {\n    this.ws.send(JSON.stringify(message));\n  }\n}\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'app-stars',\n  templateUrl: './stars.component.html',\n  styleUrls: ['./stars.component.css']\n})\nexport class StarsComponent implements OnInit, OnChanges {\n  @Input()\n  rating: number;\n  @Output()\n  private ratingChange: EventEmitter<number> = new EventEmitter();\n  stars: number[];\n  @Input()\n  readonly: boolean = true;\n\n  constructor() {\n\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  clickStar(i): void {\n    if (this.readonly) { return; }\n    this.rating = i;\n    this.ngOnInit();\n    this.ratingChange.emit(this.rating);\n  }\n\n  ngOnChanges(): void {\n    this.stars = [];\n    const starFull = Math.floor(this.rating * 2) / 2;\n    const starHalf = starFull % 1 !== 0;\n    for (let i = 1; i <= starFull; i++) {\n      this.stars.push(1);\n    }\n    if (starHalf) { this.stars.push(2); }\n    while (this.stars.length < 5) {\n      this.stars.push(0);\n    }\n  }\n\n}\n","<p>\n  <span class=\"fa\"\n        *ngFor=\"let star of stars; let i=index\"\n        (click)=\"clickStar(i + 1)\"\n        [class.fa-star]=\"star == 1\"\n        [class.fa-star-half-full]=\"star == 2\"\n        [class.fa-star-o]=\"star == 0\"\n        >\n  </span>\n  <span class=\"ml-3\">{{rating}}</span>\n</p>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}